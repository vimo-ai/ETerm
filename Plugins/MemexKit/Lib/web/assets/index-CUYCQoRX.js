const r="/api";async function n(e,s){const t=await fetch(`${r}${e}`,{headers:{"Content-Type":"application/json"},...s});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}async function c(e=100){return(await n(`/projects?limit=${e}`)).projects}async function o(e){return n(`/projects/${e}`)}async function i(e,s=50){return(await n(`/projects/${e}/sessions?limit=${s}`)).sessions}async function p(e){return n(`/sessions/${e}`)}async function u(e,s=100,t=0){const a=await n(`/sessions/${e}/messages?limit=${s}&offset=${t}`);return{data:a.messages,total:a.total,limit:s,offset:t}}async function d(){return n("/admin/stats")}async function f(e,s){const t=new URLSearchParams({q:e});return t.append("limit",String(s.limit)),s?.projectId&&t.append("projectId",String(s.projectId)),s?.mode&&t.append("mode",s.mode),s?.startDate&&t.append("startDate",s.startDate),s?.endDate&&t.append("endDate",s.endDate),(await n(`/search/semantic?${t.toString()}`)).results}async function m(){return n("/embedding/stats")}async function g(e,s=20){const t=new URLSearchParams({idPrefix:e,limit:String(s)});return(await n(`/sessions/search?${t.toString()}`)).sessions}async function S(e){return n("/ask",{method:"POST",body:JSON.stringify(e)})}export{g as a,m as b,c,o as d,i as e,p as f,d as g,u as h,S as i,f as s};
