import{d as j,r as d,u as k,c as m,o as A,b as l,f as g,e as t,t as o,F as y,g as N,j as v,i as D,l as R,k as r,m as V,n as P}from"./index-BCZSM4OO.js";import{d as I,e as M}from"./index-CUYCQoRX.js";import{_ as O}from"./GlitchText.vue_vue_type_script_setup_true_lang-KTHYRbQd.js";const U={class:"h-full flex flex-col px-8 pt-8"},B={key:0,class:"flex justify-center py-20"},F={key:1,class:"text-center py-20 text-red-500 font-mono"},L={class:"flex items-start justify-between mb-8 border-b border-white/5 pb-6"},$={class:"text-xs font-mono text-gray-500 tracking-widest truncate max-w-2xl"},z={class:"flex gap-8 text-right"},G={class:"text-2xl font-display text-white"},H={class:"text-2xl font-display text-white"},Y={class:"text-2xl font-display text-white"},q={class:"flex-1 overflow-y-auto pb-32 pr-4 scroll-smooth relative"},J={class:"space-y-8 pl-12 relative"},K={key:0,class:"text-gray-500 font-mono py-8"},Q=["onClick"],W={class:"flex items-center justify-between mb-2"},X={class:"flex items-center gap-3"},Z={class:"font-mono text-neon-cyan text-sm"},tt={class:"inline-flex items-center px-2 py-0.5 rounded bg-white/5 border border-white/10 text-[10px] uppercase tracking-wide"},et={class:"text-xs font-mono text-gray-500"},st={class:"flex items-center gap-4 text-xs text-gray-400 font-mono"},ot={class:"flex items-center gap-1"},nt={class:"flex items-center gap-1"},dt=j({__name:"ProjectDetailView",setup(at){const b=k(),f=R(),i=d(null),a=d([]),u=d(!0),c=d(null),x=Number(b.params.projectId),h=m(()=>a.value.reduce((s,e)=>s+e.messageCount,0)),_=m(()=>{if(a.value.length===0)return"NEVER";const s=a.value[0];return s?p(s.updatedAt):"NEVER"});async function w(){u.value=!0,c.value=null;try{const[s,e]=await Promise.all([I(x),M(x)]);i.value=s,a.value=e}catch(s){console.error("Failed to load data:",s),c.value="DATA CORRUPTION DETECTED"}finally{u.value=!1}}function S(s){f.push(`/projects/${x}/sessions/${s.id}`)}function C(s){const e=s.split("/");return e[e.length-1]||s}function p(s){return new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function E(s){return s.slice(0,8)}function T(){f.push("/projects")}return A(()=>{w()}),(s,e)=>(r(),l("div",U,[u.value?(r(),l("div",B,[...e[0]||(e[0]=[t("div",{class:"i-carbon-circle-dash animate-spin text-4xl text-neon-cyan"},null,-1)])])):c.value?(r(),l("div",F,o(c.value),1)):i.value?(r(),l(y,{key:2},[t("div",L,[t("div",null,[t("button",{class:"flex items-center gap-2 text-xs font-mono text-gray-400 hover:text-neon-cyan mb-4 transition-colors",onClick:T},[...e[1]||(e[1]=[t("div",{class:"i-carbon-arrow-left"},null,-1),v(" RETURN TO ARCHIVES ",-1)])]),N(O,{text:C(i.value.path),class:"text-4xl font-bold text-white mb-2"},null,8,["text"]),t("div",$," PATH: "+o(i.value.path),1)]),t("div",z,[t("div",null,[t("div",G,o(a.value.length),1),e[2]||(e[2]=t("div",{class:"text-xs font-mono text-gray-500"},"SESSIONS",-1))]),t("div",null,[t("div",H,o(h.value),1),e[3]||(e[3]=t("div",{class:"text-xs font-mono text-gray-500"},"MESSAGES",-1))]),t("div",null,[t("div",Y,o(_.value),1),e[4]||(e[4]=t("div",{class:"text-xs font-mono text-gray-500"},"LAST SYNC",-1))])])]),t("div",q,[e[8]||(e[8]=t("div",{class:"absolute left-4 top-0 bottom-0 w-px bg-white/10"},null,-1)),t("div",J,[a.value.length===0?(r(),l("div",K," NO DATA STREAMS FOUND ")):g("",!0),(r(!0),l(y,null,D(a.value,n=>(r(),l("div",{key:n.id,class:"group relative"},[e[7]||(e[7]=t("div",{class:"absolute -left-[39px] top-1.5 w-3 h-3 rounded-full bg-surface-300 border border-white/20 group-hover:bg-neon-cyan group-hover:shadow-[0_0_10px_rgba(0,243,255,0.8)] transition-all duration-300 z-10"},null,-1)),t("div",{class:"bg-surface-100/30 border border-white/5 p-4 cursor-pointer hover:bg-surface-200/50 hover:border-neon-cyan/30 hover:translate-x-2 transition-all duration-300",onClick:lt=>S(n)},[t("div",W,[t("div",X,[t("span",Z,"ID: "+o(E(n.id)),1),t("span",tt,[t("span",{style:V({color:(n.source||"claude").toLowerCase()==="claude"?"#D97757":"#00f3ff"})},o((n.source||"claude").toUpperCase()),5)]),t("span",{class:P(["text-xs px-1.5 py-0.5 rounded border",n.messageCount>0?"border-neon-cyan/30 text-neon-cyan bg-neon-cyan/5":"border-gray-700 text-gray-500"])},o(n.messageCount>0?"ACTIVE":"EMPTY"),3)]),t("span",et,o(p(n.updatedAt)),1)]),t("div",st,[t("span",ot,[e[5]||(e[5]=t("div",{class:"i-carbon-document"},null,-1)),v(" "+o(n.messageCount)+" MSGS ",1)]),t("span",nt,[e[6]||(e[6]=t("div",{class:"i-carbon-time"},null,-1)),v(" "+o(p(n.createdAt)),1)])])],8,Q)]))),128))])])],64)):g("",!0)]))}});export{dt as default};
